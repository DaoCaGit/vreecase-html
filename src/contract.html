<!DOCTYPE html>
<html lang="en">

<head>
    @@include('./head.html')
</head>

<body>
    <main class="main-wrapper full">

        @@include('./drop-left.html', {"live": "hide"})

        <div class="content-wrap">

            @@include('./header.html') @@include('./navbar.html')

            <div class="user-center-wrap clearfix">
                @@include('./breadcrumb.html')
                <div class="contract-content">
                    <div class="panel panel-contract">
                        <div class="panel-heading">Website goods warehouse</div>
                        <div class="panel-body clearfix">
                            <div class="panel-fileter">
                                <div class="input-group input-search">
                                    <span class="input-group-addon" id="keywords-addon">
                                        <i class="icon iconfont icon-search"></i>
                                    </span>
                                    <input type="text" name="keyword" id="keyword" class="form-control search" placeholder="Search" aria-describedby="keywords-addon">
                                </div>
                            </div>

                            <div class="scroll" style="overflow: hidden; height: 600px;">
                                <ul class="skins-list clearfix">
                                    <li class="skin-item selected">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #EB4B4B">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item item-available">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPJL.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #D32CE6">
                                            CLASSIFIED
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #5E98D9">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPJL.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #4B69FF">
                                            CLASSIFIED
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <diiv class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </diiv>
                                        <span class="skin-name" style="color: #B0C3D9">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #EB4B4B">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPJL.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #D32CE6">
                                            CLASSIFIED
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #5E98D9">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPJL.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #4B69FF">
                                            CLASSIFIED
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <diiv class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </diiv>
                                        <span class="skin-name" style="color: #B0C3D9">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <img class="skin-img" src="./images/dev/AWPJL.png" alt="">
                                        <span class="skin-name" style="color: #4B69FF">
                                            CLASSIFIED
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #EB4B4B">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPJL.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #D32CE6">
                                            CLASSIFIED
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #5E98D9">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <div class="skin-img">
                                            <img src="./images/dev/AWPJL.png" alt="">
                                        </div>
                                        <span class="skin-name" style="color: #4B69FF">
                                            CLASSIFIED
                                        </span>
                                    </li>
                                    <li class="skin-item">
                                        <diiv class="skin-img">
                                            <img src="./images/dev/AWPv2.png" alt="">
                                        </diiv>
                                        <span class="skin-name" style="color: #B0C3D9">
                                            ★ StatTrak Butterfly Knife | Case Hardened (Battle-Scarred)
                                        </span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="contract-point">

                    </div>
                    <div class="combinations-box">
                        <div class="comb-effect" style="position: absolute; top: 0px; left: 25px; z-index: 999; display: none;">
                            <img src="/csgo/images/combinations/tin/0007.png" alt="">
                        </div>

                        <!-- combinations-show start -->
                        <div class="combinations-show" id="combinations-show" style="opacity: 1;">
                            <div class="combinations-show-result bounceIn-cbo" id="combinations-result">
                                <img id="img-result" src="https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpot621FAR17PLfYQJK7dK4jYG0n_L1JaLummpD78A_3evD99WmiQ3i80ZqZ26hLYXGdwE5aF-Gq1noyem-0JDq6MmcyXU27D5iuyi6g0m_5A"
                                    alt="">
                                <span class="combinations-result-name" id="result-name">AWP | Oni Taiji (Battle-Scarred)</span>
                                <div class="combinations-result-vp">
                                    <i class="icon iconfont icon-vp"></i>
                                    <span id="result-vp">2,750</span>
                                </div>
                            </div>

                            <div class="combinations-show-inner" id="combinations-tips">
                                <i class="icon iconfont icon-tip"></i>
                                <div class="tips">
                                    You can enjoy a new skin after signing the contract, but those skins you've put into the contract can not be reclaimed! </div>
                            </div>
                        </div>
                        <!-- combinations-show end -->
                        <div class="combinations-show-text">
                            <div class="price-total">
                                <span class="label">Total Value:</span>
                                <i class="icon iconfont icon-vp"></i>
                                <span class="price" id="combin-price-total">384</span>
                            </div>

                            <div class="price-range">
                                <span class="label">Price Range:</span>
                                <span class="price" id="combin-price-range">
                                    <i class="icon iconfont icon-vp"></i> 231 ~ 501</span>
                            </div>
                        </div>

                        <button type="button" class="btn btn-primary" id="confirm">Confirm</button>

                        <ul class="synthesis-list clearfix" id="select-list">
                            <li class="synthesis-item">
                                <div class="light-bg animated fadeIn"></div>
                                <img class="synthesis-img" src="https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpou7umeldf0Ob3fDxBvYyJhoWPn_jgDLPUl31I18lwmO7Eu9Sn3wCw-kI6am2ncdLDIAdsaFmD-FbslOfo0JG0tZ7BzHAxvSkq7HbD30vgg2lozYM"
                                    alt="">
                            </li>
                            <li class="synthesis-item">
                                <div class="light-bg animated fadeIn"></div>
                                <img class="synthesis-img" src="https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpoo7e1f1JfwOP3dTxS_NCzq4yCkP_gDLfQhGxUpsQj3-qYp4jz2gK1qEI_ZGmgIoOSdgdvYV-E8wXvybzv0Za7tJjJy3B9-n51lZWA-0A"
                                    alt="">
                            </li>
                            <li class="synthesis-item">
                                <div class="light-bg animated fadeIn"></div>
                                <img class="synthesis-img" src="https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgposbupIgthwczAaAJG6My3gL-Ehfb6NL7um25V4dB8teXA54vwxlWxqkY6ZGDxLICcJg5vaFqG_wK4k-7pgpLpvZnLwSRruyRw5H2JyRGpwUYbBwHobOI"
                                    alt="">
                            </li>
                            <li class="synthesis-item">
                                <div class="light-bg animated fadeIn"></div>
                                <img class="synthesis-img" src="https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpou-6kejhzw8zSdD9Q7d-3mb-JgMj5Nr_Yg2Zu5MRjjeyPodugjQG3_ktlYmDzI9eXJw5vN1DX_FS3krjogpO_787PnCRg7HEn4WGdwUKP7q6emg"
                                    alt="">
                            </li>
                            <li class="synthesis-item unimport">
                                <img class="synthesis-img" src="/csgo/images/unset.png" alt="">
                            </li>
                            <li class="synthesis-item unimport">
                                <img class="synthesis-img" src="/csgo/images/unset.png" alt="">
                            </li>
                            <li class="synthesis-item unimport">
                                <img class="synthesis-img" src="/csgo/images/unset.png" alt="">
                            </li>
                            <li class="synthesis-item unimport">
                                <img class="synthesis-img" src="/csgo/images/unset.png" alt="">
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            @@include('./footer.html')
        </div>
    </main>


    @@include('./foot.html')
    <script>
        $(document).ready(function () {
            $(".scroll").mCustomScrollbar();
        });

        app = {};
        $(function(app) {

            var imgSet = [9, 9, 10, 10, 10, 9];
            var imgs = [];
            
            var key = 3;
            imgSet.forEach(function(index) {
                for (var i = 1; i <= index; i++) {
                    imgs.push(key+'-'+i+'.png');
                }
                key ++;
            }, this);

            imgs.push('0001.png', '0002.png', '0003.png', '0004.png', '0005.png', '0006.png', '0007.png');

            // Preloading images
            
            var images = new Array();
            var imgBaseUrl = './images/combinations/tin/';

            function preloader() {
                for (i = 0; i < imgs.length; i++) {
                    images[i] = new Image()
                    images[i].src = imgBaseUrl + imgs[i]
                }
            }

            function addLoadEvent(func) {
                var oldonload = window.onload;
                if (typeof window.onload != 'function') {
                    window.onload = func;
                } else {
                    window.onload = function() {
                        if (oldonload) {
                            oldonload();
                        }
                        func();
                    }
                }
            }

            addLoadEvent(preloader);

            // Synthetic animation
            var runInterval = null,
                imgIndex = 1;
                oimgIndex = 1;
            var Synthetic = function() {
                this.animation = []; //Image classification
                this.speed = 110;
            }

            Synthetic.prototype = {
                init: function() {
                    imgIndex = 1;
                },

                _show: function(number, type, result, callback) {
                    if(imgIndex == imgSet[number-3]+8-1){
                        if (typeof callback === "function"){
                            callback(); 
                        }
                        if(type == 0){
                            var com_bg = './images/combinations/gg.jpg'
                        }else if(type == 1) {
                            var com_bg = './images/combinations/gilt.gif'
                        }
                        $('#img-result').attr('src', result['img']);
                        $('#result-name').html(result.name);
                        $('#result-vp').html(numberformat(result.cur_total_price));

                        var synthesisList = $('.synthesis-list');
                        synthesisList.find('.light-bg').css('opacity', 0);
                        synthesisList.find('.inventory-item').css('opacity', 1);
                        $('#combinations-show').css('opacity', 1);
                        $('#combinations-result').css('background-image', 'url('+com_bg+')');
                        $('#combinations-result').show().addClass('bounceIn-cbo');
                    }

                    if (imgIndex == imgSet[number-3]+8) {
                        imgIndex = 1;
                        oimgIndex = 1;
                        clearInterval(runInterval);
                        $('.comb-effect').hide();
                        return true;
                    }

                    var baseUrl = './images/combinations/tin/';
                    $('.comb-effect').show();
                    if(imgSet[number-3] >= imgIndex){
                        $('.comb-effect').children('img').attr('src', baseUrl+number+'-'+imgIndex+'.png');
                    }else {
                        $('.comb-effect').children('img').attr('src', baseUrl+'000'+oimgIndex+'.png');
                        oimgIndex++;
                    }
                    imgIndex++;
                },

                run: function(number, type, result, callback) {
                    if( $.inArray(number, [3,4,5,6,7,8]) == -1 ) {
                        return false;
                    }
                    _self = this;
                    var synthesisList = $('.synthesis-list');

                    synthesisList.find('.light-bg').animate({opacity : 1}, 600, 'linear');
                    $('#img-result').attr('src', '');
                    $('#combinations-show').animate({opacity : 0}, 1330, 'linear');
                    $('#combinations-result').hide();
                    $('#combinations-tips').hide();

                    $('#img-result').attr('src', '');
                    $('#result-name').html('');
                    $('#result-vp').html('');

                    setTimeout(function () {
                        setTimeout(function() {
                            synthesisList.find('.inventory-item').animate({opacity : 0}, 800, 'linear');
                        }, 330);
                        runInterval = setInterval(function() {
                            _self._show(number, type, result, callback);
                        }, _self.speed);
                    }, 300);

                },

                stop: function() {
                    clearInterval(runInterval);
                    var synthesisList = $('.synthesis-list');
                    synthesisList.find('.light-bg').css('opacity', 1);
                    synthesisList.find('.inventory-item').css('opacity', 1);
                    $('.combinations-show').css('opacity', 1);
                },

                reset: function(){
                    $('#combinations-show').css('opacity', 1);
                    $('#combinations-result').hide();
                    $('#combinations-tips').show();
                }

            };

            app.Synthetic = Synthetic;

        }(app));

        var SyntheticObj = new app.Synthetic();
        var json = {'img': '', 'name': '', 'cur_total_price': ''};

        $('#confirm').on('click', function(){
            SyntheticObj.run(4, 1, json, function() {

            });
        });
    </script>
</body>

</html>